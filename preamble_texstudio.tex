% !TeX encoding = UTF-8
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]
% !BIB program = biber

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- GENERAL PURPOSE PREAMLE (offline Version) ---
% This preamble is meant to be used with TeXstudio and TeXlive.
% 
% @author: Martin Jonas & Raphael Stascheit;
% Special thanks to: Fabian Büntig, Simon Christmann, Tobias Michel & Nanette Ratz
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% GERMAN SPECIFICATIONS
\usepackage[utf8]{inputenc}                         % Direkte Eingabe von Umlauten
\usepackage[T1]{fontenc}                            % Silbentrennung auch mit Umlauten
\usepackage[ngerman]{babel}                         % Neue deutsche Rechtschreibung etc.
\usepackage[autostyle]{csquotes}
\usepackage{longtable}
\usepackage[official]{eurosym}
\usepackage{textcomp}                               % Necessary for degree symbol °
\usepackage{gensymb}


% FONTS
\usepackage{helvet}                                 % Sans Serif (Serifless) %[scaled=.90]
\usepackage{sourcecodepro}                          % Monospace/Typewriter/Source-Code
\usepackage{mathptmx}                               % Math, Serif
\usepackage{garamondx}                              % Serif
%\usepackage{CormorantGaramond}

    % Weitere Schriftarten, die noch eingebunden werden müssen:
    % Segoe UI, frutiger, Segoe UI --> Können nur mit LuaTeX kompiliert werden
    % cochineal --> Weiterentwicklung der Schriftart "Crimson" mit Ligaturen. Funktioniert aus unerfindlichen Gründen nicht.
    % CormorantGaramond --> schlankeres Garamond mit hübscherem "T"
    
%\renewcommand*\familydefault{\sfdefault}           % Serifenlose Schrift als Standard gesetzt;

\usepackage{soul}                                   % Sperrsatz via \so{text}
\usepackage[normalem]{ulem}                         % durchstreichen per \sout{},\xout{},\uwave{}


% MATH/PHYSICS
\usepackage{amsmath}                                % equation, equation*, align, align*, gather,
                                                    % gather*, flalign, flalign*, multline, multline*, alignat, alignat*.
                                                    % Dazu kommen Umgebungen, die für die Verwendung in diesen mathematischen Umgebungen vorgesehen sind: aligned, Bmatrix, bmatrix, cases, matrix, pmatrix, split, Vmatrix, vmatrix
\usepackage{amssymb}                                % dieses Paket lädt amsfonts und erweitert es.
                                                    % Erleichtert normales Schreiben in Matheumgebungen
%\usepackage{siunitx}
\usepackage{mathtools}                              % Extended math-symbols


% GRAPHICS
\usepackage{graphicx}                               % \includegraphics[width=1.0\textwidth, angle=0.0, height=30px]{LoremIpsum.png}
\usepackage{epstopdf}                               % Enables including *.eps files via converting to a *.pdf file
\usepackage{svg}                                    % Enables including *.svg files via converting to a *.pdf file --> \includesvg{image} if Inkscape is installed

\usepackage{placeins}
\usepackage{caption,booktabs}
\usepackage{float}                                  % Force figure with option [H] to be placed exactly here
\usepackage{wrapfig}                                % 
\usepackage{subcaption}                             % Side-by-side figures via subfigure environment
\usepackage{pdfpages}                               % Implements particular pages of a *.pdf file -- \includepdf[pages={1,2,4-5}]{exmpl.pdf} ; for all pages use [pages=-]

% Macro to remove citation marks from figure's caption.
% Shortcut for \caption[Figure 1 LoF Caption]{Figure 1 LoF Caption \cite{second}}
\DeclareRobustCommand\nocite[1]{%
    {\def\cite##1{\ignorespaces}#1}}
\newcommand\nocitecaption[1]{\caption[\nocite{#1}]{#1}}


% TABLES
%\usepackage{xcolor}                                % black, blue, brown, cyan, darkgray, gray, green,
%\usepackage[table,xcdraw]{xcolor}                  % Coloured tables - black, cyan, green, orange, blue, darkgray, lightgray, white, red, yellow ...
\usepackage{multirow}
\usepackage{tabularx}                               % Table with variable width (Tabelle an Seitenbreite anpassen)
\usepackage{array}
\usepackage{enumitem}                               % Customizable Enumerates/Itemizes: [label=\alph*)], [label=\arabic*.], [label=\Roman*.]
\setlistdepth{9}                                    % Enable deeper nestet enumerations and itemizes
\usepackage{colortbl}                               % colored Table-lines & lines/rows
\usepackage{lscape}                                 % Upright tables in landscape mode
\usepackage{pifont}

\setlength\arrayrulewidth{1.1pt}                    % Workaround to avoid error when displaying color-filled tables

\setlist[enumerate,1]{label=\arabic*.}
\setlist[enumerate,2]{label*=\arabic*}
\setlist[enumerate,3]{label*=\arabic*}
\setlist[enumerate,4]{label*=\arabic*}
\setlist[enumerate,5]{label*=\arabic*}
\setlist[enumerate,6]{label*=\arabic*}
\setlist[enumerate,7]{label*=\arabic*}
\setlist[enumerate,8]{label*=\arabic*}
\setlist[enumerate,9]{label*=\arabic*}
\renewlist{enumerate}{enumerate}{9}
\setlist[itemize,1]{label=$\bullet$}
\setlist[itemize,2]{label=$\bullet$}
\setlist[itemize,3]{label=$\bullet$}
\setlist[itemize,4]{label=$\bullet$}
\setlist[itemize,5]{label=$\bullet$}
\setlist[itemize,6]{label=$\bullet$}
\setlist[itemize,7]{label=$\bullet$}
\setlist[itemize,8]{label=$\bullet$}
\setlist[itemize,9]{label=$\bullet$}
\renewlist{itemize}{itemize}{9}


% MISC
\usepackage{color}                                  % standard color definitions
\usepackage{url}
\usepackage{tikz}                                   % Procedural drawing with TikZ
\usetikzlibrary{external}                           % Recompile TikZ drawings only if code changed in order to accelerates the compiling process significantly.
\tikzexternalize                                    % Activate 
\tikzsetexternalprefix{./img/tikzexternalized/}     % Set folder to save TikZ-drawings (must be created manually!)
\usetikzlibrary{patterns}                           % Fill polygons with stripes
\usetikzlibrary{calc}                               % coordinate calculation via math environment in TikZ
\usepackage{pgfplots}                               % TikZ-based 3D-Plot
\usepackage{multicol}
\usepackage{lipsum}
\usepackage[multiple]{footmisc}                     % Multiple footnotes 
\usepackage{todonotes}

\usepackage{footnote}


% SYNTAX HIGHLIGHTING FOR SOURCE CODE
\usepackage{verbatim}                               % Environment to display Source Code without Syntax Highlighting
\usepackage[prefix=solarized-]{xcolor-solarized}    % Defines the colors of the Solarized Theme for Syntax Highlighting on light and dark backgrounds

\usepackage{listings}                               % Environment to display Source Code with Syntax Highlighting for several Programming Languages
\lstset{                                            % Default Settings for Source Code
    inputencoding=utf8,
    literate=               % Multi-byte support
    {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
    {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
    {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
    {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
    {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
    {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
    {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
    {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
    {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
    {ű}{{\H{u}}}1   {Ű}{{\H{U}}}1   {ő}{{\H{o}}}1   {Ő}{{\H{O}}}1
    {ç}{{\c c}}1    {Ç}{{\c C}}1    {ø}{{\o}}1      {å}{{\r a}}1
    {Å}{{\r A}}1    {€}{{\euro}}1   {£}{{\pounds}}1 {ñ}{{\~n}}1
    {«}{{\guillemotleft}}1  {»}{{\guillemotright}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1,
    %
    basicstyle=     \footnotesize\ttfamily,
    columns=        flexible,% avoid additional white-spaces
    breaklines=     true,    % sets automatic line breaking
    numbers=        left,    % where to put the line-numbers; possible values are (none, left, right)
    numbersep=      3.0pt,   % how far the line-numbers are from the code
    showstringspaces=false,  % don't underline spaces in strings
    tabsize=4,               % sets default tabsize
    %
    % Set Solarized Light Theme:
    backgroundcolor=\color{solarized-base3},
    rulesepcolor=   \color{solarized-base03},
    numberstyle=    \tiny\color{solarized-base01},
    %
    stringstyle=    \color{solarized-cyan}\ttfamily,
    identifierstyle=\color{solarized-base01},
    commentstyle=   \color{solarized-base1},
    emphstyle=      \color{solarized-red},
    %
    keywordstyle=[1]\color{solarized-green},    % Keywords + Operators
    ndkeywordstyle=\color{solarized-yellow},
    keywordstyle=[2]\color{solarized-yellow},   % Variable Types - int, float, double, uint_8
    keywordstyle=[3]\color{solarized-orange},   % Preprocessor - #include, #ifdef, #ifndef, #endif
}


% ONLY IF DOCUMENTCLASS IS SCRARTCL
\makeatletter
\@ifclassloaded{scrartcl}
{
    % Set up to wich level titles will be set to TOC
    %   \chapter is level 0
    %   \section is level 1
    %   \subsection is level 2
    %   \subsubsection is level 3
    %   \paragraph is level 4
    %   \subparagraph is level 5
    \setcounter{tocdepth}{5}
    \setcounter{secnumdepth}{5}  % level to be numbered in TOC
    
    \setkomafont{title}         {\rmfamily\Huge\bfseries\scshape}
    \setkomafont{section}       {\rmfamily\Large\scshape}
    \setkomafont{subsection}    {\rmfamily\large}
    \setkomafont{subsubsection} {\rmfamily}
    \setkomafont{paragraph}     {\rmfamily}
    \setkomafont{subparagraph}  {\rmfamily}
    \setkomafont{sectionentry}  {\rmfamily\bfseries}
    \setkomafont{captionlabel}  {\bfseries}
    
    \KOMAoptions{parskip=half}
    
    \usepackage[hidelinks]{hyperref}                    % Includes Hypertext references; Option [hidelinks] hides the reference's highlighting
    
    \usepackage[left=3cm, right=2cm, top=2cm, bottom=2cm, footskip=26pt]{geometry}  % Margins for a thesis
}{}
\makeatother


% COUNTERS TO ENUMERATE EXERCISES
\newcounter{CounterTutorium}
\newcounter{CounterExercise}[CounterTutorium]
\newcommand{\printexercisecounter}{
    \hlorange{\textbf{\arabic{CounterTutorium}.\arabic{CounterExercise}}}
}
\newcommand{\exercise}{
    \stepcounter{CounterExercise}
    \printexercisecounter
}
\setcounter{CounterExercise}{0}
